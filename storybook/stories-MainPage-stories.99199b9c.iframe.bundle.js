"use strict";(self.webpackChunkreact_shopping_cart=self.webpackChunkreact_shopping_cart||[]).push([[929],{"./src/stories/MainPage.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Main:function(){return Main},__namedExportsOrder:function(){return __namedExportsOrder}});var _templateObject,_templateObject2,_Main$parameters,_Main$parameters2,_Main$parameters2$doc,_home_runner_work_react_shopping_cart_react_shopping_cart_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_react_shopping_cart_react_shopping_cart_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_components_common_Header__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/@common/Header.tsx"),_components_main_ProductList__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/main/ProductList.tsx"),_mocks_handlers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/mocks/handlers.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),meta={component:_components_main_ProductList__WEBPACK_IMPORTED_MODULE_1__.Z,title:"Components/MainPage",parameters:{msw:_mocks_handlers__WEBPACK_IMPORTED_MODULE_2__.q},tags:["autodocs"],decorators:[function(Story){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(S.StoryWrapper,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Story,{})})}],args:{},argTypes:{}};__webpack_exports__.default=meta;var Main=function Main(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(S.Wrapper,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components_common_Header__WEBPACK_IMPORTED_MODULE_0__.Z,{title:"STORE",onClickCartButton:function onClickCartButton(){}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components_main_ProductList__WEBPACK_IMPORTED_MODULE_1__.Z,{})]})},S={StoryWrapper:styled_components__WEBPACK_IMPORTED_MODULE_4__.zo.div(_templateObject||(_templateObject=(0,_home_runner_work_react_shopping_cart_react_shopping_cart_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    width: calc(100vw - 32vw);\n  "]))),Wrapper:styled_components__WEBPACK_IMPORTED_MODULE_4__.zo.div(_templateObject2||(_templateObject2=(0,_home_runner_work_react_shopping_cart_react_shopping_cart_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: auto;\n  "])))};Main.parameters=(0,_home_runner_work_react_shopping_cart_react_shopping_cart_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_react_shopping_cart_react_shopping_cart_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},Main.parameters),{},{docs:(0,_home_runner_work_react_shopping_cart_react_shopping_cart_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_react_shopping_cart_react_shopping_cart_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},null===(_Main$parameters=Main.parameters)||void 0===_Main$parameters?void 0:_Main$parameters.docs),{},{source:(0,_home_runner_work_react_shopping_cart_react_shopping_cart_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({originalSource:'(args: any) => {\n  return <S.Wrapper>\n      <Header title="STORE" onClickCartButton={() => {}} />\n      <ProductList />\n    </S.Wrapper>;\n}'},null===(_Main$parameters2=Main.parameters)||void 0===_Main$parameters2||null===(_Main$parameters2$doc=_Main$parameters2.docs)||void 0===_Main$parameters2$doc?void 0:_Main$parameters2$doc.source)})});var __namedExportsOrder=["Main"];try{Main.displayName="Main",Main.__docgenInfo={description:"",displayName:"Main",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/MainPage.stories.tsx#Main"]={docgenInfo:Main.__docgenInfo,name:"Main",path:"src/stories/MainPage.stories.tsx#Main"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/@common/Header.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _common_Header}});var _templateObject,_templateObject2,_templateObject3,Header_templateObject,Header_templateObject2,Header_templateObject3,_templateObject4,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Icon=__webpack_require__("./src/components/@common/Icon.tsx"),svgPath=__webpack_require__("./src/constants/svgPath.ts"),es=__webpack_require__("./node_modules/recoil/es/index.js"),CartSelector=__webpack_require__("./src/store/CartSelector.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),CartRouteButton=function CartRouteButton(_ref){var onClick=_ref.onClick,selectedProductsCount=(0,es.sJ)(CartSelector._u);return(0,jsx_runtime.jsxs)(S.Wrapper,{onClick:onClick,children:[(0,jsx_runtime.jsx)(S.Button,{children:"장바구니"}),(0,jsx_runtime.jsx)(S.Badge,{children:selectedProductsCount})]})},S={Wrapper:styled_components_browser_esm.zo.div(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n    display: flex;\n    align-items: center;\n    margin-left: auto;\n  "]))),Button:styled_components_browser_esm.zo.button(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    padding: 0;\n    margin-right: 8px;\n    font-size: 18px;\n    font-weight: 500;\n    background: none;\n    color: #fff;\n    cursor: pointer;\n  "]))),Badge:styled_components_browser_esm.zo.div(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n    width: 24px;\n    height: 24px;\n    background: #04c09e;\n    border-radius: 50%;\n    font-size: 13px;\n    font-weight: 400;\n    text-align: center;\n    line-height: 24px;\n    color: #fff;\n  "])))},main_CartRouteButton=CartRouteButton;try{CartRouteButton.displayName="CartRouteButton",CartRouteButton.__docgenInfo={description:"",displayName:"CartRouteButton",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/main/CartRouteButton.tsx#CartRouteButton"]={docgenInfo:CartRouteButton.__docgenInfo,name:"CartRouteButton",path:"src/components/main/CartRouteButton.tsx#CartRouteButton"})}catch(__react_docgen_typescript_loader_error){}var Header=function Header(_ref){var title=_ref.title,onClickTitle=_ref.onClickTitle,onClickCartButton=_ref.onClickCartButton;return(0,jsx_runtime.jsx)(Header_S.Header,{children:(0,jsx_runtime.jsxs)(Header_S.Wrapper,{children:[(0,jsx_runtime.jsxs)(Header_S.TitleButton,{onClick:onClickTitle,children:[(0,jsx_runtime.jsx)(Icon.Z,{width:"44",height:"36",color:"#FFF",path:svgPath.D,viewBox:"0 0 51 44"}),(0,jsx_runtime.jsx)(Header_S.Title,{children:title})]}),(0,jsx_runtime.jsx)(main_CartRouteButton,{onClick:onClickCartButton})]})})},Header_S={Header:styled_components_browser_esm.ZP.header(Header_templateObject||(Header_templateObject=(0,taggedTemplateLiteral.Z)(["\n    width: 100%;\n    height: 80px;\n    position: fixed;\n    z-index: 1;\n    background: var(--text-color);\n    font-size: 36px;\n    font-weight: 900;\n    line-height: 80px;\n    letter-spacing: 0.1px;\n\n    & svg {\n      margin-right: 20px;\n    }\n  "]))),Wrapper:styled_components_browser_esm.ZP.div(Header_templateObject2||(Header_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: space-between;\n    max-width: 1270px;\n    margin: 0 auto;\n    padding: 0 20px;\n\n    @media all and (max-width: 479px) {\n      & > :nth-child(2) {\n        display: none;\n      }\n    }\n  "]))),TitleButton:styled_components_browser_esm.ZP.button(Header_templateObject3||(Header_templateObject3=(0,taggedTemplateLiteral.Z)(["\n    background-color: transparent;\n    cursor: pointer;\n    color: #fff;\n  "]))),Title:styled_components_browser_esm.ZP.span(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.Z)([""])))},_common_Header=Header;try{Header.displayName="Header",Header.__docgenInfo={description:"",displayName:"Header",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onClickCartButton:{defaultValue:null,description:"",name:"onClickCartButton",required:!1,type:{name:"(() => void)"}},onClickTitle:{defaultValue:null,description:"",name:"onClickTitle",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/@common/Header.tsx#Header"]={docgenInfo:Header.__docgenInfo,name:"Header",path:"src/components/@common/Header.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/main/ProductList.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return main_ProductList}});var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,ProductList_templateObject,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),es=__webpack_require__("./node_modules/recoil/es/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),ProductItem=__webpack_require__("./src/components/main/ProductItem.tsx"),useFetchData=__webpack_require__("./src/hooks/useFetchData.ts"),url=__webpack_require__("./src/constants/url.ts"),ProductListState=__webpack_require__("./src/store/ProductListState.ts"),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),skeletonAnimation=(0,styled_components_browser_esm.F4)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n"]))),skeleton=styled_components_browser_esm.ZP.div(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n  background: linear-gradient(-90deg, #aaa, #f0f0f0, #aaa, #f0f0f0);\n  background-size: 400%;\n  animation: "," 5s infinite ease-out;\n  border-radius: 8px;\n  overflow: hidden;\n  @media all and (min-width: 768px) and (max-width: 1023px) {\n    width: 265px;\n  }\n\n  @media all and (min-width: 480px) and (max-width: 767px) {\n    width: 275px;\n  }\n\n  @media all and (max-width: 479px) {\n    width: 286px;\n  }\n"])),skeletonAnimation),S={Wrapper:styled_components_browser_esm.ZP.li(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n    list-style: none;\n  "]))),SkeletonThumbnail:(0,styled_components_browser_esm.ZP)(skeleton)(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.Z)(["\n    width: 270px;\n    height: 270px;\n    margin-bottom: 20px;\n\n    @media all and (min-width: 768px) and (max-width: 1023px) {\n      height: 265px;\n    }\n\n    @media all and (min-width: 480px) and (max-width: 767px) {\n      height: 275px;\n    }\n\n    @media all and (max-width: 479px) {\n      height: 286px;\n    }\n  "]))),SkeletonTitle:(0,styled_components_browser_esm.ZP)(skeleton)(_templateObject5||(_templateObject5=(0,taggedTemplateLiteral.Z)(["\n    width: 180px;\n    height: 24px;\n    margin-bottom: 10px;\n    ::after {\n      font-size: 0;\n      content: 'loading';\n    }\n  "]))),SkeletonPrice:(0,styled_components_browser_esm.ZP)(skeleton)(_templateObject6||(_templateObject6=(0,taggedTemplateLiteral.Z)(["\n    width: 140px;\n    height: 24px;\n    ::after {\n      font-size: 0;\n      content: 'loading';\n    }\n  "])))},main_Skeleton=function Skeleton(){return(0,jsx_runtime.jsxs)(S.Wrapper,{children:[(0,jsx_runtime.jsx)(S.SkeletonThumbnail,{}),(0,jsx_runtime.jsx)(S.SkeletonTitle,{}),(0,jsx_runtime.jsx)(S.SkeletonPrice,{})]})},ProductList_S={Wrapper:styled_components_browser_esm.zo.div(ProductList_templateObject||(ProductList_templateObject=(0,taggedTemplateLiteral.Z)(["\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    grid-template-rows: repeat(3, 1fr);\n    gap: 86px 4%;\n    max-width: 1270px;\n    margin: 0 auto;\n    padding: 0 20px 120px;\n\n    @media all and (min-width: 768px) and (max-width: 1023px) {\n      grid-template-columns: repeat(3, 1fr);\n    }\n\n    @media all and (min-width: 480px) and (max-width: 767px) {\n      grid-template-columns: repeat(2, 1fr);\n    }\n\n    @media all and (max-width: 479px) {\n      grid-template-columns: repeat(1, 1fr);\n    }\n  "])))},main_ProductList=function ProductList(){var _useRecoilState=(0,es.FV)(ProductListState.v),_useRecoilState2=(0,slicedToArray.Z)(_useRecoilState,2),productList=_useRecoilState2[0],setProductList=_useRecoilState2[1],_useFetchData=(0,useFetchData.$)(setProductList),api=_useFetchData.api,isLoading=_useFetchData.isLoading;(0,react.useEffect)((function(){api.get(url.l)}),[]);var skeleton=Array.from({length:12}).map((function(_,index){return(0,jsx_runtime.jsx)(main_Skeleton,{},index)})),products=productList.map((function(product){return(0,jsx_runtime.jsx)(ProductItem.Z,{id:product.id,name:product.name,price:product.price,imgUrl:"".concat(".").concat(product.imageUrl)},product.id)}));return(0,jsx_runtime.jsx)(ProductList_S.Wrapper,{children:isLoading?skeleton:products})}},"./src/mocks/handlers.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{q:function(){return handlers}});var regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),lib=__webpack_require__("./node_modules/msw/lib/index.js"),localStorage=__webpack_require__("./src/utils/localStorage.ts"),products=((0,localStorage.$)("cart",[]),[{id:1,name:"PET보틀-정사각(420ml)",price:43400,imageUrl:"/assets/product1.svg"},{id:2,name:"PET보틀-밀크티(370ml)",price:73400,imageUrl:"/assets/product2.svg"},{id:3,name:"PET보틀-정사각(370ml)",price:41e3,imageUrl:"/assets/product3.svg"},{id:4,name:"PET보틀-납작(450ml)",price:39900,imageUrl:"/assets/product4.svg"},{id:5,name:"PET보틀-단지(480ml)",price:39900,imageUrl:"/assets/product5.svg"},{id:6,name:"PET보틀-납작(260ml)",price:41e3,imageUrl:"/assets/product6.svg"},{id:7,name:"PET보틀-원형(500ml)",price:61800,imageUrl:"/assets/product7.svg"},{id:8,name:"PET보틀-원형(500ml)",price:30500,imageUrl:"/assets/product8.svg"},{id:9,name:"PET보틀-길쭉(500ml)",price:5e4,imageUrl:"/assets/product1.svg"},{id:10,name:"PET보틀-원형(500ml)",price:44500,imageUrl:"/assets/product2.svg"},{id:11,name:"PET보틀-딥다크(500ml)",price:18e3,imageUrl:"/assets/product3.svg"},{id:12,name:"PET보틀-힙 플라스크(500ml)",price:21500,imageUrl:"/assets/product4.svg"}]),url=__webpack_require__("./src/constants/url.ts"),constants=__webpack_require__("./src/constants/index.ts"),getCart=function getCart(){return(0,localStorage.$)("cart",[])},setCart=function setCart(updatedCart){return(0,localStorage.f)("cart",updatedCart)},getProduct=function getProduct(id){return products.find((function(item){return item.id===id}))},handlers=[lib.rest.get(url.l,(function(req,res,ctx){return res(ctx.delay(1e3),ctx.status(200),ctx.json(products))})),lib.rest.get(url.a,(function(req,res,ctx){return res(ctx.delay(1e3),ctx.status(200),ctx.json(getCart()))})),lib.rest.post(url.a,function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(req,res,ctx){var _yield$req$json,id,updatedItem,updatedCart;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,req.json();case 2:if(_yield$req$json=_context.sent,id=_yield$req$json.id,void 0!==getProduct(id)){_context.next=6;break}return _context.abrupt("return",res(ctx.status(404)));case 6:return updatedItem={id:id,quantity:1,product:getProduct(id)},updatedCart=[].concat((0,toConsumableArray.Z)(getCart()),[updatedItem]),setCart(updatedCart),_context.abrupt("return",res(ctx.status(201),ctx.json(updatedItem)));case 10:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2,_x3){return _ref.apply(this,arguments)}}()),lib.rest.patch("".concat(url.a,"/:id"),function(){var _ref2=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee2(req,res,ctx){var _yield$req$json2,id,quantity,cartItemIndex,updatedItem,updatedCart,item;return(0,regeneratorRuntime.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,req.json();case 2:if(_yield$req$json2=_context2.sent,id=_yield$req$json2.id,quantity=_yield$req$json2.quantity,cartItemIndex=getCart().findIndex((function(item){return item.id===id})),-1!==cartItemIndex){_context2.next=8;break}return _context2.abrupt("return",res(ctx.status(404)));case 8:return updatedItem={id:id,quantity:quantity,product:getProduct(id)},updatedCart=cartItemIndex>=constants.jB?getCart().map((function(item,index){return index===cartItemIndex?updatedItem:item})):[].concat((0,toConsumableArray.Z)(getCart()),[updatedItem]),setCart(updatedCart),item={id:id,quantity:quantity},_context2.abrupt("return",res(ctx.status(200),ctx.json(item)));case 13:case"end":return _context2.stop()}}),_callee2)})));return function(_x4,_x5,_x6){return _ref2.apply(this,arguments)}}()),lib.rest.delete("".concat(url.a,"/:id"),function(){var _ref3=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee3(req,res,ctx){var _yield$req$json3,id,updatedCart;return(0,regeneratorRuntime.Z)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,req.json();case 2:if(_yield$req$json3=_context3.sent,id=_yield$req$json3.id,void 0!==(updatedCart=getCart().filter((function(item){return item.id!==id})))){_context3.next=7;break}return _context3.abrupt("return",res(ctx.status(404)));case 7:return setCart(updatedCart),_context3.abrupt("return",res(ctx.status(204)));case 9:case"end":return _context3.stop()}}),_callee3)})));return function(_x7,_x8,_x9){return _ref3.apply(this,arguments)}}())]}}]);